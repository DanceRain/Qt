# 对象模型

所谓Qt对象树，就是在建立一个`QObject`之间的父子关系，当然这个父子关系并不是继承意义上的父子关系。这相当于，在创建`QObject`对象时，可以提供一个其父对象，我们创建的这个`QObject`对象会自动添加到其父对象的`children()`列表。当父对象析构时，这个列表的所有对象也会被析构。这种设计的方便之处在于，如果我们关闭一个对话框，该对话框上的按钮等组件都会被删除。

另外Qt在堆上建立的`QObject`和在栈上建立的`QObject`也是有不同结果的。堆上建立的它不会自动析构，它只保证当它被delete时，从其parent的`childern()`列表删除，如果有孩子，则自动delete每一个孩子，因此也就不会出现删除多次的错误情况出现。而在栈上建立的，则会在超出其作用域时自动调用析构函数，就有可能出现析构多次的情况。因此尽量在堆上创建对象。

另外值得注意的是，在main函数中，我们应当在栈上面创建对象。原因是app.exec() 函数是一个死循环，创建出的这个对象没有办法被 delete，如果delete了，你还要怎么保证它会显示呢？